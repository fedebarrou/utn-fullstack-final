/* Activado cuando <body class="theme-dark"> — no toques nombres existentes */
body.theme-dark {
  color-scheme: dark;
  /* pistas para inputs nativos */
}

/* ===== LAYOUTS ===== */
body.theme-dark .app {
  background: #0b141a;
}

body.theme-dark .sidebar {
  background-color: #111b21;
  border-right-color: #202c33;
}

body.theme-dark .sidebar-header {
  background-color: #111b21;
}

body.theme-dark .sidebar-title {
  color: #e9edef;
}

body.theme-dark .sidebar-btn {
  color: #d1d7db;
}

body.theme-dark .sidebar-btn:hover {
  background: #202c33;
}

/* ===== SEARCH pill del sidebar ===== */
body.theme-dark .search-wrap {
  background-color: #1f2c33;
  border-color: #2a3942;
}

body.theme-dark .search-icon {
  color: #9aaeb5;
}

body.theme-dark .search-input {
  color: #e9edef;
}

body.theme-dark .search-result {
  color: #94a3ab;
}

/* ===== LISTA DE CHATS ===== */
body.theme-dark .user {
  border-color: #1f2c33;
}

body.theme-dark .user:hover {
  background-color: #202c33;
}

body.theme-dark .user.is-active {
  background-color: #2a3942;
  border-color: #2a3942;
}

body.theme-dark .user-name {
  color: #e9edef;
}

body.theme-dark .user-preview {
  color: #c4d0d6;
}

body.theme-dark .user-time {
  color: #aebac1;
}

body.theme-dark .user-time.is-online {
  color: #25d366;
}

body.theme-dark .avatar {
  border-color: #2a3942;
}

/* ===== CHAT (panel derecho) ===== */
body.theme-dark .chat-header {
  background-color: #111b21;
  border-bottom-color: #202c33;
}

body.theme-dark .chat-user-name {
  color: #e9edef;
}

body.theme-dark .chat-messages {
  background-color: #0b141a;
}

/* (reset) no pintes todas las burbujas iguales en dark */
body.theme-dark .message {
  background: transparent;
  border-color: transparent;
  color: inherit;
}

/* ====== SU MENSAJE (izquierda, “them”) ====== */
body.theme-dark .message.is-them,
body.theme-dark .message[data-from="them"],
.dark .message.is-them,
.dark .message[data-from="them"] {
  background: #3a5f72;
  /* gris azulado WA */
  color: #e9edef;
  border: 1px solid #2a3942;
  border-bottom-left-radius: 6px;
  /* esquina WA */
}

body.theme-dark .message.is-them::before,
body.theme-dark .message[data-from="them"]::before,
.dark .message.is-them::before,
.dark .message[data-from="them"]::before {
  border-right-color: #1f2c33;
  /* colita misma bg */
}

/* ====== MI MENSAJE (derecha, “me”) ====== */
body.theme-dark .message.is-me,
body.theme-dark .message[data-from="me"],
.dark .message.is-me,
.dark .message[data-from="me"] {
  background: #005c4b;
  /* verde WA */
  color: #e9edef;
  border: 1px solid #016e58;
  border-bottom-right-radius: 6px;
  /* esquina WA */
}

body.theme-dark .message.is-me::after,
body.theme-dark .message[data-from="me"]::after,
.dark .message.is-me::after,
.dark .message[data-from="me"]::after {
  border-left-color: #005c4b;
  /* colita misma bg */
}

/* Hora dentro de la burbuja */
body.theme-dark .message .time,
.dark .message .time {
  color: #b3c2c8;
}

/* Hover sutil (opcional) */
body.theme-dark .message.is-them:hover,
.dark .message.is-them:hover {
  filter: brightness(1.03);
}

body.theme-dark .message.is-me:hover,
.dark .message.is-me:hover {
  filter: brightness(1.06);
}

/* ===== FOOTER ===== */
body.theme-dark .chat-footer {
  border-top-color: #202c33;
}

body.theme-dark .chat-footer input {
  background: #1f2c33;
  border-color: #2a3942;
  color: #e9edef;
}

body.theme-dark .chat-footer input::placeholder {
  color: #aebac1;
}

body.theme-dark .composer-btn {
  background: #1f2c33;
  border-color: #2a3942;
}

body.theme-dark .composer-btn:hover {
  background: #2a3942;
}

body.theme-dark .composer-icon {
  color: #e9edef;
}

/* ===== NEW CHAT overlay ===== */
body.theme-dark .newchat {
  background: #111b21;
}

body.theme-dark .newchat-title {
  color: #e9edef;
}

body.theme-dark .newchat-search {
  background: #111b21;
  border-color: #25d366;
}

body.theme-dark .newchat-search-input {
  color: #e9edef;
}

body.theme-dark .newchat-subtitle,
body.theme-dark .newchat-letter {
  color: #94a3ab;
}

body.theme-dark .newchat-item {
  border-color: transparent;
}

body.theme-dark .newchat-item:hover {
  background: #202c33;
}

body.theme-dark .newchat-name {
  color: #e9edef;
}

body.theme-dark .newchat-meta {
  color: #c4d0d6;
}

body.theme-dark .newchat-avatar--placeholder {
  background: #2a3942;
  color: #c4d0d6;
}

/* Header de letra sticky (alias para quien use .dark) */
.dark .newchat-letter,
body.theme-dark .newchat-letter {
  color: #e5e7eb;
  background: linear-gradient(to bottom, rgba(17, 24, 39, 0.98), rgba(17, 24, 39, 0.94));
  border-top-color: #1f2937;
  border-bottom-color: #1f2937;
}

.dark .newchat-letter::before,
body.theme-dark .newchat-letter::before {
  background: #64748b;
  /* slate-500 */
  opacity: .9;
}

/* ===== POPUP ===== */
body.theme-dark .popup-sidebar {
  background: #233138;
  border-color: #2a3942;
  box-shadow: 0 10px 24px rgba(0, 0, 0, .35);
}

body.theme-dark .popup-item {
  color: #e9edef;
}

body.theme-dark .popup-item:hover {
  background: #2a3942;
}

body.theme-dark .popup-icon {
  color: #d1d7db;
}

body.theme-dark .popup-sep {
  background: #2a3942;
}

/* Toggle en dark */
body.theme-dark .toggle-track {
  background: #3a4b55;
}

body.theme-dark .toggle-thumb {
  background: #e9edef;
}

/* ===== Wallpaper/imagen de chat (si usás ::before) ===== */
body.theme-dark {
  --chat-bg-image: url("/assets/chat-bg-dark.png");
  /* si no la tenés, usá la misma del claro */
  --chat-bg-opacity: 0.12;
  /* menos intensa en dark */
}

body.theme-dark .chat-messages::before {
  filter: brightness(0.7) contrast(1.1);
  /* si compartís imagen con claro */
}


.theme-dark .sidebar-icon,
.theme-dark .popup-icon,
.theme-dark .composer-icon,
.theme-dark .user-not-found {
  color: white;
}